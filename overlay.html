<!-- overlay.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overlay de Replay</title>
</head>
<body>
    <div id="replayContainer"></div>

    <script>
        async function fetchReplayData() {
            const response = await fetch('api/start-replay.json');
            if (response.ok) {
                const data = await response.json();
                const videoId = data.videoId;
                const startTime = data.startTime;

                const replayContainer = document.getElementById('replayContainer');
                replayContainer.innerHTML = `
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/${videoId}?start=${startTime}&autoplay=1&loop=1&mute=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                `;
            } else {
                console.error('Erro ao buscar dados de replay.');
            }
        }

        fetchReplayData();
        setInterval(fetchReplayData, 8000); // Atualizar a cada 8 segundos
    </script>
</body>
</html>

